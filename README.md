## React Developer Test Assignment — Variant Group

Запустить локально после клона:
```
  cd variant-applications
  echo "VITE_OPENAI_API_KEY=тут-ваш-ключ" >> .env
  npm install
  npm run dev
```

### Стек

Я подошёл к задаче так: «Нам нужно проверить идею. Нужно быстренько и максимально беспроблемно поднять приложение на хорошо известных мне технологиях, которые при необходимости можно будет легко заменить на аналоги, если идея взлетит, и проект начнёт расти».

Таком образом, для стейт-менеджмента я выбрал RTK. Он у меня от зубов отскакивает даже ночью + структура данных на старте нашего проекта очень простая, нам не нужно ничего супер-сложного. 

Если же приложение начнёт расти и усложняться, мы легко сможем заменить его на React Query, zustand, да что угодно.

Конечно, в реальной разработке с таким подходом мы бы взяли готовую UI-библиотеку, но т.к. по условию задачи мы пишем свою, для стилей я остановился на Styled Components. 

Они позволяют очень быстро набрасывать стили (я не использовал вообще никаких библиотек и все стили брал из макетов и правил при необходимости вручную — Styled Components для такого идеально подходят) + благодаря работе с пропсами позволяют гибко их кастомизировать.

Для архитектуры выбрал Feature-Sliced Design, потому что «Понятность и масштабируемость кода» стоит в списке ценностей на проверку на первом месте :) Я за карьеру повидал достаточно проектов разной степени хаотичности, и пока что FSD в моих глазах масштабируется лучше всего.

Может показаться, что на старте это оверкилл, но как показывает практика — лучше сразу создать 6 папочек, чем потом мучительно распиливать на них огромные компоненты страниц.

### Подход

#### Вёрстка

Конечно же, после детального изучения макетов у меня возникла куча вопросов. 

Почему у кнопок удаления и копирования иконки на разном расстоянии от текста? Почему везде размеры шрифта укладываются в стройную сетку, кроме ровно одного места? Почему форма сдвинута на 3 пикселя? Почему в карточке письма на главной отступ между между "Dear Team" и следующей строкой больше, чем на детальной форме (хотя в фигме и там и там стоит line-height: 28px)?

Сначала я хотел методично задавать эти вопросы по имейлу, чтобы показать, какой я въедливый и внимательный, но в итоге я выбрал другой подход (который учитывал, что экзаменатору в отпуске хочется отдыхать) :D

Подход следующий — я сверстаю всё как есть, просто размечу странности в коде, а некоторые ещё упомяну отдельно в этой записке. Таким образом я покажу, что вижу всё это, ну а в реальном рабочем процессе, конечно же, я не буду сначала верстать «как есть», а потом говорить с дизайнером — я сначала поговорю с дизайнером, а потом уже сверстаю окончательно.

Я пользовался плагином для PixelPerfect вёрстки, но намеренно не стал подгонять макет до идеального соответствия — кое-где получаются странные цифры, которые расходятся с «ровными» значениями в фигме. Опять же, в реальной работе это всё утрясается с дизайнером до её старта.

#### Требования

Вопросы возникли, например, и к некоторым бизнес-требованиям, в духе лимита в 1200 символов для поля О себе — как будто это слишком много для сопроводительного письма. Поле Skills же вообще не ограничено по длине! В реальной жизни я бы уточнил это у продакт-овнера сразу после получения задачи.

Опять же, почти везде я сделал как в макете с пометкой, что в реальной работе всё это будет обсуждено с продукт-овнером до того, как будет написана первая строчка кода.

Несколько моментов я позволил себе внести сразу:
1. Мелочь, но кнопка «Скопировать» как будто не нужна на форме нового письма, пока текст оного ещё не сгенерирован? Я её спрятал.
2. Я добавил в Empty state небольшой блок с кнопкой, генерирующей три тестовых письма. В первую очередь я её сделал для себя, чтобы легче было тестировать приложение в процессе работы над ним, но потом решил оставить и для экзаменатора тоже — в конце концов, он будет тестировать также, как и я, почему бы не облегчить человеку жизнь?
3. В форме не были размечены обязательные поля, однако, по логике формы (и шаблона письма) обязательны все, кроме последнего. Поэтому я поставил им *, чтобы улучшить UX.

В реальной работе я такие штуки если и делаю без предварительного согласования, то в формате «быстро накидать перед дейликом прототип, чтобы на дейлике сделать desk check и показать идею сразу на примере». В общем, когда в разработку своей идеи нужно инвестировать не больше часа. Всё остальное — только через предварительное голосование!

#### Ограничение по времени и сделанные trade-offs

Во время собеседования Влад упоминал, что на разработку этого задание должно уйти часов 8. Но также Влад упоминал, что очень быстро работает :D Поэтому я умножил 8 часов на 2 и получил ограничение по времени, которое я перед собой поставил.

Зачем? Я помню о политике дедлайнов в компании, мы обсуждали это на собеседовании. Тем не менее, у всего должны быть разумные рамки :D В ежедневной работе мы всегда так или иначе ограничены по времени, и я хотел показать свой процесс принятия решений в подобных условиях.

Это повлияло на выбор дополнительного задания, а также в целом на приоритеты при разработке. 

Я — адепт методолгии [Walking Skeleton](https://fibery.io/blog/product-management/walking-skeleton/). Вкратце её можно описать так: сначала делаем MVP или PoC, релизим, смотрим на перфоманс фичи, узнаём что-то новое, затем начинаем наращивать на ней «мясо».

Если рассмотреть данное задание как реальное предложение, его главная ценность — это снять с человека необходимость самому писать сопроводительное письмо. 

Если бы я ранжировал приоритеты для этого функционала, я бы сделал это так:
1. Адекватный UX (радует глаз, но без излишеств) — первый пункт, потому что он по умолчанию везде и всегда.
2. Генерация письма хоть как-нибудь (один шаблон на всех).
3. Возможность посмотреть все свои письма.
4. Возможность скопировать письмо одним кликом.
5. Генерация красивого письма (интеграция с AI).
6. Скорость генерации текста.
7. «Вкусный» UX (анимации, вот это вот всё).

Я отнёс все анимации к пункту 7, поэтому просто оставил их напоследок (и в итоге они остались тудушками в коде). 

Также я не особо «зверствовал» на тему чистоты кода, там можно ещё спокойно рефакторить дальше, например, в UI-ките можно вынести в отдельные файлики *.styled.tsx и *.types.ts все styled компоненты и типы. 

(Однако, конкретно это я не стал делать, чтобы ревьюверу было проще смотреть всё в одном файле.)

Кроме того, там прямо просится вынести в UI-кит форму и унифицировать её функционал валидации и обработки данных, но опять же — в реальном проекте мы скорее всего поставим MUI или Ant Design или Formik и не будем писать это всё руками.

То же самое касается и роутинга — конечно, в больших долгоживущих проектах всё подобное выносится из App в отдельные файлы, но для проекта с двумя страничками я счёл излишним тратить на это время.

А ещё цветовые темы... Дальше их бы все вынести в css variables. Я вывел их для кнопок, но опять же — в реальных проектах мы унифицируем цветовые темы всего приложения и потом импортируем их в компонентах.

Тем не менее, если вам будет важно увидеть, как я реализую какую-то конкретную тудушку из кода — дайте знать, пожалуйста, сделаю ASAP и выкачу обновление.

### Мобильная версия

В целом, тут даже сочинять ничего не нужно было, макеты сделаны так, что мобильная версия пишет сама себя.

Единственный момент, который меня прямо смущает — это комбинация кнопок «Дом» и «Создать» в одной области экрана так близко друг к другу.

Я ходил-думал, как бы мне развязать этот узел, и придумал сделать внизу экрана этакую «панель», как в Инстаграме, с кнопкой «создать» посередине. Панель должна быть sticky (как и хедер), но при проматывании до баннера (ежели он выводится на страницу) она должна исчезать — нам незачем делать две фичи с одинаковым функционалом в одной области экрана.

Я уже сел было кодить это, но потом подумал, что решение добавить на страницу 2 sticky элемента и таким образом превратить мобильную версию в этакое «мобильное приложение» — это как минимум не то решение, которое я стал бы принимать в одиночку. 

В итоге я решил обойтись минимальным количеством кода при создании мобильной версии (всего 11 @media директив), а все усложнения оставить на первый desk check с дизайнером в этом мысленном эксперименте :)